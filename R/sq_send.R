#' Send a Query
#'
#' Small function that invokes another given function for sending
#' a query to the database. The benefit of using this wrapper is
#' to keep database/driver boilerplate code separate from functions
#' that sends queries.
#'
#' @param .query A character/sq query string.
#' @param .with function with which to send the query.
#' @param ... further parameters passed to \code{with}.
#'
#' @return The value returned by \code{.with}
#' @export
sq_send <- function(.query, .with, ...)
{
  .query <- lapply(.query,as.character)
  results <- lapply(.query,FUN = .with,...)
  do.call("rbind",results)
}
